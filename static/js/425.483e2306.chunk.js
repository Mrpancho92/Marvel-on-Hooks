"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[425],{1748:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var c=t(4270),r=t(3433),i=t(9439),s=t(2791),a=t(1087),o=t(3394),u=t(9613),l=t(4304),m=t(184),d=function(e,n,t){switch(e){case"waiting":return(0,m.jsx)(o.Z,{});case"loading":return t?(0,m.jsx)(n,{}):(0,m.jsx)(o.Z,{});case"confirmed":return(0,m.jsx)(n,{});case"error":return(0,m.jsx)(u.Z,{});default:throw new Error("Unexpected process state")}},f=function(){var e=(0,s.useState)([]),n=(0,i.Z)(e,2),t=n[0],c=n[1],o=(0,s.useState)(!1),u=(0,i.Z)(o,2),f=u[0],h=u[1],_=(0,s.useState)(0),j=(0,i.Z)(_,2),x=j[0],v=j[1],b=(0,s.useState)(!1),p=(0,i.Z)(b,2),g=p[0],Z=p[1],k=(0,l.Z)(),w=k.getAllComics,N=k.process,y=k.setProcess;(0,s.useEffect)((function(){C(x,!0)}),[]);var C=function(e,n){h(!n),w(e).then(E).then((function(){return y("confirmed")}))},E=function(e){var n=!1;e.length<8&&(n=!0),c((function(n){return[].concat((0,r.Z)(n),(0,r.Z)(e))})),h((function(e){return!1})),v((function(e){return e+8})),Z((function(e){return n}))},S=(0,s.useRef)([]),F=function(e){S.current.forEach((function(e){return e.classList.remove("char__item_selected")})),S.current[e].classList.add("char__item_selected"),S.current[e].focus()};return(0,m.jsxs)("div",{className:"comics__list",children:[d(N,(function(){return function(e){var n=e.map((function(e,n){var t={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===e.thumbnail&&(t={objectFit:"unset"}),(0,m.jsx)("li",{className:"comics__item",tabIndex:0,ref:function(e){return S.current[n]=e},onClick:function(){F(n)},onKeyDown:function(e){" "!==e.key&&"Enter"!==e.key||F(n)},children:(0,m.jsxs)(a.rU,{to:"/comics/".concat(e.id),children:[(0,m.jsx)("img",{className:"comics__item-img",src:e.thumbnail,alt:e.name,style:t}),(0,m.jsx)("div",{className:"comics__item-name",children:e.title}),(0,m.jsx)("div",{className:"comics__item-price",children:e.price})]})},e.id)}));return(0,m.jsx)("ul",{className:"comics__grid",children:n})}(t)}),f),(0,m.jsx)("button",{className:"button button__main button__long",disabled:f,style:{display:g?"none":"block"},onClick:function(){return C(x)},children:(0,m.jsx)("div",{className:"inner",children:"load more"})})]})},h=t(3957),_=function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(c.q,{children:[(0,m.jsx)("meta",{name:"description",content:"Page with list of our comics"}),(0,m.jsx)("title",{children:"Comics page"})]}),(0,m.jsx)(h.Z,{}),(0,m.jsx)(f,{})]})}}}]);
//# sourceMappingURL=425.483e2306.chunk.js.map